rule://5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya6aaW6aG16aKR6YGT77+laG9tZV9ydWxl77+leyJ0aXRsZSI6IlZJUOW9semZoiIsImF1dGhvciI6IuWwj+WnkOWnkCIsInVybCI6Imhpa2VyOi8vZW1wdHkjZnlBbGwjZnlwYWdlIiwidmVyc2lvbiI6MCwiY29sX3R5cGUiOiJ0ZXh0XzEiLCJjbGFzc19uYW1lIjoi55S15b2xJui/nue7reWJpybnu7zoibom5Yqo5ryrIiwiY2xhc3NfdXJsIjoiMSYyJjMmNCIsImFyZWFfbmFtZSI6IuWKqOS9nOeJhybllpzliafniYcm54ix5oOF54mHJuenkeW5u+eJhybmgZDmgJbniYcm5Ymn5oOF54mHJuaImOS6ieeJhyIsImFyZWFfdXJsIjoiNiY3JjgmOSYxMCYxMSYxMiIsInNvcnRfbmFtZSI6IuabtOaWsOinhOWImSIsInllYXJfbmFtZSI6IuWbveS6p+WJpybmuK/lj7Dliacm5pel6Z+p5YmnJuasp+e+juWJpyIsInNvcnRfdXJsIjoicHB1cXEiLCJ5ZWFyX3VybCI6IjEzJjE0JjE1JjE2IiwiZmluZF9ydWxlIjoianM6XHJcbmNvbnN0IF9jb25maWcgPSB7XHJcbiAgaG9tZV9uYW1lOiBcIlZJUOW9semZolwiLFxyXG4gIHJlbW90ZV91cGRhdGU6ICdodHRwczovL2dpdGVlLmNvbS9mMTFzdC9oaWtlci9yYXcvbWFzdGVyL3ZpcHl5L3VwZGF0ZS5qc29uJyxcclxuICBsb2NhbF9qczogJ2hpa2VyOi8vZmlsZXMvcXVpZXRib3kvdmlweXkvbWFpbi5qcycsXHJcbiAgbG9jYWxfY29uZmlnX3BhdGg6ICdoaWtlcjovL2ZpbGVzL3F1aWV0Ym95L3ZpcHl5L2NvbmZpZy5qc29uJyxcclxufTtcclxuXHJcbmZ1bmN0aW9uIHF1ZXJ5VXBkYXRlKCkge1xyXG4gIGlmIChnZXRVcmwoKS5pbmRleE9mKCdwcHVxcScpID49IDApIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gcXVlcnlTZXR0aW5nKCkge1xyXG4gIGlmIChnZXRVcmwoKS5pbmRleE9mKCdwcHNxcScpID49IDApIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0TG9jYWxDb25maWcoKSB7XHJcbiAgbGV0IGxvY2FsQ29uZmlnID0gZmV0Y2goX2NvbmZpZy5sb2NhbF9jb25maWdfcGF0aCwge30pO1xyXG4gIGxldCBsb2NhbENvbmZpZ09iaiA9IHt9O1xyXG4gIHRyeSB7XHJcbiAgICBpZiAobG9jYWxDb25maWcgPT0gJycpIHtcclxuICAgICAgdGhyb3cgJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxvY2FsQ29uZmlnT2JqID0gSlNPTi5wYXJzZShsb2NhbENvbmZpZyk7XHJcbiAgICAgIGlmIChsb2NhbENvbmZpZ09iai5ydWxlX3ZlcnNpb24gPT0gdW5kZWZpbmVkIHx8IGxvY2FsQ29uZmlnT2JqLmpzX3ZlcnNpb24gPT0gdW5kZWZpbmVkIHx8IGxvY2FsQ29uZmlnT2JqLnNldHRpbmcgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhyb3cgJ3VuZGVmaW5lZCc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBsb2NhbENvbmZpZ09iai5ydWxlX3ZlcnNpb24gPSAwO1xyXG4gICAgbG9jYWxDb25maWdPYmouanNfdmVyc2lvbiA9IDA7XHJcbiAgICBsb2NhbENvbmZpZ09iai5zZXR0aW5nID0gW107XHJcbiAgICB3cml0ZUZpbGUoX2NvbmZpZy5sb2NhbF9jb25maWdfcGF0aCwgSlNPTi5zdHJpbmdpZnkobG9jYWxDb25maWdPYmopKTtcclxuICB9XHJcbiAgcmV0dXJuIGxvY2FsQ29uZmlnT2JqO1xyXG59XHJcbmZ1bmN0aW9uIGdldExvY2FsUnVsZVZlcnNpb24oKSB7XHJcbiAgbGV0IHZlcnNpb24gPSBnZXRMb2NhbENvbmZpZygpLnJ1bGVfdmVyc2lvbjtcclxuICByZXR1cm4gdmVyc2lvbjtcclxufVxyXG5mdW5jdGlvbiBnZXRMb2NhbEpzVmVyc2lvbigpIHtcclxuICBsZXQgdmVyc2lvbiA9IGdldExvY2FsQ29uZmlnKCkuanNfdmVyc2lvbjtcclxuICByZXR1cm4gdmVyc2lvbjtcclxufVxyXG5mdW5jdGlvbiBnZXRMb2NhbFNldHRpbmcoKSB7XHJcbiAgbGV0IHNldHRpbmcgPSBnZXRMb2NhbENvbmZpZygpLnNldHRpbmc7XHJcbiAgcmV0dXJuIHNldHRpbmc7XHJcbn1cclxuZnVuY3Rpb24gZ2V0TG9jYWxKUygpIHtcclxuICBsZXQganNDb2RlID0gZmV0Y2goX2NvbmZpZy5sb2NhbF9qcywge30pO1xyXG4gIHJldHVybiBqc0NvZGU7XHJcbn1cclxuZnVuY3Rpb24gZ2V0UmVtb3RlQ29tbWFuZFJvdXRlKHJlbW90ZV9jb21tYW5kKSB7XHJcbiAgcmV0dXJuIGZldGNoKHJlbW90ZV9jb21tYW5kLCB7fSk7XHJcbn1cclxuZnVuY3Rpb24gZGlzcGxheVVwZGF0ZSgpIHtcclxuICBsZXQgcmVzID0ge307XHJcbiAgbGV0IHJlbW90ZUpzb24gPSBKU09OLnBhcnNlKGZldGNoKF9jb25maWcucmVtb3RlX3VwZGF0ZSwge30pKTtcclxuICBsZXQgcmVtb3RlUnVsZVZlcnNpb24gPSByZW1vdGVKc29uLnJ1bGVfdmVyc2lvbjtcclxuICBsZXQgcmVtb3RlSnNWZXJzaW9uID0gcmVtb3RlSnNvbi5qc192ZXJzaW9uO1xyXG4gIGxldCByZW1vdGVDTUQgPSByZW1vdGVKc29uLmNvbW1hbmQ7XHJcbiAgbGV0IHJlbW90ZUpTID0gcmVtb3RlSnNvbi5yZW1vdGU7XHJcbiAgbGV0IHJlbW90ZVNldHRpbmcgPSBKU09OLnN0cmluZ2lmeShyZW1vdGVKc29uLnNldHRpbmcpO1xyXG4gIGQgPSBbe1xyXG4gICAgdGl0bGU6ICfop4TliJnniYjmnKw6ICcgKyBnZXRMb2NhbFJ1bGVWZXJzaW9uKCkgKyAnICAgIOacgOaWsDogJyArIHJlbW90ZVJ1bGVWZXJzaW9uLFxyXG4gICAgZGVzYzogJ+eCueWHu+abtOaWsOinhOWIme+8jOiLpeaXoOaViOivt+iBlOezu+S9nOiAheS/ruWkjScsXHJcbiAgICB1cmw6IGBoaWtlcjovL2VtcHR5QGxhenlSdWxlPS5qczpgICtcclxuICAgICAgYGxldCBsb2NhbENvbmZpZyA9IEpTT04ucGFyc2UoZmV0Y2goJ2AgKyBfY29uZmlnLmxvY2FsX2NvbmZpZ19wYXRoICsgYCcse30pKTtsb2NhbENvbmZpZy5ydWxlX3ZlcnNpb249J2AgKyByZW1vdGVSdWxlVmVyc2lvbiArIGAnO3dyaXRlRmlsZSgnYCArIF9jb25maWcubG9jYWxfY29uZmlnX3BhdGggKyBgJyxKU09OLnN0cmluZ2lmeShsb2NhbENvbmZpZykpO2AgK1xyXG4gICAgICBgJ2AgKyBnZXRSZW1vdGVDb21tYW5kUm91dGUocmVtb3RlQ01EKSArIGAnYCxcclxuICAgIGNvbF90eXBlOiAndGV4dF8xJ1xyXG4gIH0sIHtcclxuICAgIGNvbF90eXBlOiAnbGluZV9ibGFuaydcclxuICB9LCB7XHJcbiAgICB0aXRsZTogJ+iEmuacrOeJiOacrDogJyArIGdldExvY2FsSnNWZXJzaW9uKCkgKyAnICAgIOacgOaWsDogJyArIHJlbW90ZUpzVmVyc2lvbixcclxuICAgIGRlc2M6ICfngrnlh7vmm7TmlrDohJrmnKzvvIzoi6Xml6DmlYjor7fogZTns7vkvZzogIXkv67lpI0nLFxyXG4gICAgdXJsOiBgaGlrZXI6Ly9lbXB0eUBsYXp5UnVsZT0uanM6YCArXHJcbiAgICAgIGB3cml0ZUZpbGUoJ2AgKyBfY29uZmlnLmxvY2FsX2pzICsgYCcsIGZldGNoKCdgICsgcmVtb3RlSlMgKyBgJywge30pKTtgICtcclxuICAgICAgYGxldCBsb2NhbENvbmZpZyA9IEpTT04ucGFyc2UoZmV0Y2goJ2AgKyBfY29uZmlnLmxvY2FsX2NvbmZpZ19wYXRoICsgYCcse30pKTtgICtcclxuICAgICAgYGxvY2FsQ29uZmlnLmpzX3ZlcnNpb249J2AgKyByZW1vdGVKc1ZlcnNpb24gKyBgJztgICtcclxuICAgICAgYGxvY2FsQ29uZmlnLnNldHRpbmc9SlNPTi5wYXJzZShcXGBgICsgcmVtb3RlU2V0dGluZyArIGBcXGApO2AgK1xyXG4gICAgICBgd3JpdGVGaWxlKCdgICsgX2NvbmZpZy5sb2NhbF9jb25maWdfcGF0aCArIGAnLEpTT04uc3RyaW5naWZ5KGxvY2FsQ29uZmlnKSk7YCArXHJcbiAgICAgIGByZWZyZXNoUGFnZSgpOyd0b2FzdDovL+abtOaWsOaIkOWKn++8gSdgLFxyXG4gICAgY29sX3R5cGU6ICd0ZXh0XzEnXHJcbiAgfSwge1xyXG4gICAgY29sX3R5cGU6ICdsaW5lX2JsYW5rJ1xyXG4gIH0sIHtcclxuICAgIHRpdGxlOiAnPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+PHN0cm9uZz48Zm9udCBjb2xvcj1cInJlZFwiPsK35pu05paw5pel5b+Xwrc8L2ZvbnQ+PC9zdHJvbmc+PHVsPjxsaT4nICsgcmVtb3RlSnNvbi5ub3RlLmpvaW4oJzwvbGk+PGxpPicpICsgJzwvbGk+PC91bD48L3A+JyxcclxuICAgIGNvbF90eXBlOiAncmljaF90ZXh0J1xyXG4gIH1dO1xyXG4gIHJlcy5kYXRhID0gZDtcclxuICBzZXRSZXN1bHQocmVzKTtcclxufVxyXG5mdW5jdGlvbiBkaXNwbGF5U2V0dGluZygpIHtcclxuICBmdW5jdGlvbiBmaW5kT3B0VGl0bGUob3B0cywgdmFsdWUpIHtcclxuICAgIGxldCB0aXRsZSA9ICcnO1xyXG4gICAgb3B0cy5zb21lKChpdGVtKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLnZhbHVlID09IHZhbHVlKSB7XHJcbiAgICAgICAgdGl0bGUgPSBpdGVtLnRpdGxlO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGl0bGU7XHJcbiAgfVxyXG4gIGxldCByZXMgPSB7fTtcclxuICBsZXQgZCA9IFtdO1xyXG4gIGxldCBzZXR0aW5nID0gZ2V0TG9jYWxTZXR0aW5nKCk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXR0aW5nLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBkLnB1c2goe1xyXG4gICAgICB0aXRsZTogc2V0dGluZ1tpXS50aXRsZSArICc6IOKAmOKAmCcgKyBmaW5kT3B0VGl0bGUoc2V0dGluZ1tpXS5vcHRzLCBzZXR0aW5nW2ldLnZhbHVlKSArICfigJnigJknLFxyXG4gICAgICBjb2xfdHlwZTogJ3RleHRfMSdcclxuICAgIH0pO1xyXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBzZXR0aW5nW2ldLm9wdHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgZC5wdXNoKHtcclxuICAgICAgICB0aXRsZTogc2V0dGluZ1tpXS5vcHRzW2pdLnRpdGxlLFxyXG4gICAgICAgIGNvbF90eXBlOiAndGV4dF8zJyxcclxuICAgICAgICB1cmw6IGBoaWtlcjovL2VtcHR5QGxhenlSdWxlPS5qczpgICtcclxuICAgICAgICAgIGBsZXQgbG9jYWxDb25maWcgPSBKU09OLnBhcnNlKGZldGNoKCdgICsgX2NvbmZpZy5sb2NhbF9jb25maWdfcGF0aCArIGAnLHt9KSk7YCArXHJcbiAgICAgICAgICBgbG9jYWxDb25maWcuc2V0dGluZ1tgICsgaSArIGBdLnZhbHVlPWAgKyBzZXR0aW5nW2ldLm9wdHNbal0udmFsdWUgKyBgO2AgK1xyXG4gICAgICAgICAgYHdyaXRlRmlsZSgnYCArIF9jb25maWcubG9jYWxfY29uZmlnX3BhdGggKyBgJyxKU09OLnN0cmluZ2lmeShsb2NhbENvbmZpZykpO2AgK1xyXG4gICAgICAgICAgYHJlZnJlc2hQYWdlKCk7J3RvYXN0Oi8v5L+u5pS55oiQ5Yqf77yBJ2BcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlcy5kYXRhID0gZDtcclxuICBzZXRSZXN1bHQocmVzKTtcclxufVxyXG50cnkge1xyXG4gIGlmIChxdWVyeVVwZGF0ZSgpKSB7XHJcbiAgICBkaXNwbGF5VXBkYXRlKCk7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHF1ZXJ5U2V0dGluZygpKSB7XHJcbiAgICBkaXNwbGF5U2V0dGluZygpO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIHZhciBsb2NhbEpTID0gZ2V0TG9jYWxKUygpO1xyXG4gICAgaWYgKGxvY2FsSlMgPT0gJycpIHtcclxuICAgICAgdGhyb3cgJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGV2YWwobG9jYWxKUyk7XHJcbiAgICAgIGppZXhpKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59IGNhdGNoIChlKSB7XHJcbiAgZGlzcGxheVVwZGF0ZSgpO1xyXG59Iiwic2VhcmNoX3VybCI6Imh0dHBzOi8vYnVrYWl2aXAuY29tL2luZGV4LnBocC92b2Qvc2VhcmNoLmh0bWw/d2Q9Kio7Z2V0O1VURjg7e0Nvb2tpZUAuanM6ZmV0Y2goJ2hpa2VyOi8vZmlsZXMvcXVpZXRib3kvdmlweXkvY29va2llLnR4dCcpfSIsInRpdGxlQ29sb3IiOiIjZmYxNDhlOGUiLCJncm91cCI6IuKFqeWwj+WnkOWnkCIsInNlYXJjaEZpbmQiOiJqczpcbmV2YWwoZmV0Y2goJ2hpa2VyOi8vZmlsZXMvcXVpZXRib3kvdmlweXkvbWFpbi5qcycpLHt9KTtcbnNlYXJjaCgpOyIsImRldGFpbF9jb2xfdHlwZSI6InRleHRfMyIsImRldGFpbF9maW5kX3J1bGUiOiJqczpcbmV2YWwoZmV0Y2goJ2hpa2VyOi8vZmlsZXMvcXVpZXRib3kvdmlweXkvbWFpbi5qcycpLHt9KTtcbmVyamkoKTsiLCJzZGV0YWlsX2NvbF90eXBlIjoidGV4dF8zIiwic2RldGFpbF9maW5kX3J1bGUiOiIqIiwidWEiOiJhdXRvIiwicHJlUnVsZSI6IiJ9